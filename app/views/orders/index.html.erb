<h1 class="title is-2">My Orders</h1>

<% if @orders.any? %>
  <% @orders.each do |order| %>
    <div class="box">
      <div class="level">
        <div class="level-left">
          <div>
            <p class="title is-5">Order #<%= order.id %></p>
            <p class="subtitle is-6"><%= order.created_at.strftime("%B %d, %Y") %></p>
          </div>
        </div>
        
        <div class="level-right">
          <div>
            <span class="tag is-<%= order.status == 'pending' ? 'warning' : 'success' %> mb-2">
              <%= order.status.humanize %>
            </span>
            <p class="has-text-weight-bold">$<%= order.total_amount %></p>
          </div>
        </div>
      </div>
      
      <div class="content">
        <p><strong>Items:</strong></p>
        <ul>
          <% order.order_items.each do |item| %>
            <li><%= item.quantity %>Ã— <%= item.product.name %></li>
          <% end %>
        </ul>
      </div>
      
      <div class="field is-grouped">
        <%= link_to "View Details", order_path(order), class: "button is-primary is-small" %>
      </div>
    </div>
  <% end %>
<% else %>
  <div class="has-text-centered">
    <div class="box">
      <i class="fas fa-shopping-bag is-size-1 has-text-grey mb-4"></i>
      <h3 class="title is-3">No orders yet</h3>
      <p>When you place orders, they'll appear here.</p>
      <%= link_to "Start Shopping", products_path, class: "button is-primary is-large mt-4" %>
    </div>
  </div>
<% end %>